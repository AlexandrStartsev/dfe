{ 
  "name": "quote.industry",
  "dfe": [
    {
      "name": "root",
      "atr": "{ 'class': 'div-alt-color2-3', style: 'border: 1px solid darkgrey; border-radius: 5px; display: flex; flex-flow : row wrap; width: 700px; overflow: hidden' }",
      "get": "$$('.policy')",
      "type": "div"
    },
    {
      "parent": "root",
      "name": "field-1",
      "atr": "{ style: 'color: red'}",
      "get": "'Override Effective Date Limit'",
      "type": "label",
      "dpos": {
        "colclass": "dfe-field-std-p5"
      }
    },
    {
      "parent": "root",
      "name": "field-2",
      "atr": "{orientation : 'horizontal'}",
      "get": "{ value : $$.getOrDefault('control.overrideeffectivelimit', 'N') , items : [ {value :'Y', description : 'Yes'}, {value :'N', description : 'No'}]}",
      "type": "radiolist",
      "set": "$$.set('control.overrideeffectivelimit', value)",
      "dpos": {
        "colclass": "dfe-field-std-p5"
      }
    },
    {
      "parent": "root",
      "name": "field-3",
      "get": "'Coverage Effective Date'",
      "type": "label",
      "val": "required($$, '.effective', 'date') && (eff = Date.ARFtoDate($$('.effective')), $$('control.overrideeffectivelimit') != 'Y' && (eff < Date.today() && $$.error(\"Past date\") || eff > Date.today(+90) && $$.error(\"Over 90 days ahead\")))",
      "dpos": {
        "colclass": "dfe-field-std-p5"
      }
    },
    {
      "parent": "root",
      "name": "field-4",
      "atr": "{ formatting : 'MM/DD/YYYY', transform: '67890134', style : 'width: 100px' }",
      "get": "$$.getOrDefault('.effective', Date.today().yyyymmdd())",
      "type": "editbox",
      "set": "$$.set('.effective', value), $$.set('.common.effective', value)",
      "dpos": {
        "colclass": "dfe-field-std-p5"
      }
    },
    {
      "parent": "root",
      "name": "field-5",
      "get": "'Coverage Expiration Date'",
      "type": "label",
      "val": "required($$, '.expiration', 'date') && (exp = Date.ARFtoDate($$('.expiration')), eff = Date.ARFtoDate($$('.effective')), exp < eff && $$.error(\"Prior to effective date\"), $$('control.overrideeffectivelimit') != 'Y' && exp > Date.today(+365+90) && $$.error(\"Expiration date outside of limit\"))",
      "dpos": {
        "colclass": "dfe-field-std-p5"
      }
    },
    {
      "parent": "root",
      "name": "field-6",
      "atr": "{ formatting : 'MM/DD/YYYY', transform: '67890134', style : 'width: 100px' }",
      "get": "$$('.expiration')",
      "type": "editbox",
      "set": "$$.set('.expiration', value), $$.set('.common.expiration', value)",
      "dpos": {
        "colclass": "dfe-field-std-p5"
      }
    },
    {
      "parent": "root",
      "name": "field-7",
      "get": "'Company name'",
      "type": "label",
      "val": "required($$, 'insured.compname')",
      "dpos": {
        "colclass": "dfe-field-std-p5"
      }
    },
    {
      "parent": "root",
      "name": "field-8",
      "atr": "{ style : 'width: 300px;'}",
      "get": "$$('insured.compname')",
      "type": "editbox",
      "dpos": {
        "colclass": "dfe-field-std-p5"
      },
      "set": "$$.set('insured.compname', value)"
    },
    {
      "parent": "root",
      "name": "field-9",
      "get": "'DBA'",
      "type": "label",
      "val": "required($$, 'insured.dba')",
      "dpos": {
        "colclass": "dfe-field-std-p5"
      }
    },
    {
      "parent": "common",
      "name": "field-11",
      "get": "'Year Business Started'",
      "type": "label",
      "val": "required($$, '.YearBizStarted', '(18|19|20)\\\\d{2}')",     
      "dpos": {
        "colclass": "dfe-field-std-p5"
      }
    },
    {
      "parent": "root",
      "name": "field-10",
      "atr": "{ style : 'width: 300px;'}",
      "get": "$$('insured.dba')",
      "type": "editbox",
      "set": "$$.set('insured.dba', value)",
      "dpos": {
        "colclass": "dfe-field-std-p5"
      }
    },
    {
      "parent": "common",
      "name": "field-12",
      "atr": "{ style : 'width: 50px', formatting: 'XXXX' }",
      "get": "$$('.YearBizStarted')",
      "type": "editbox",
      "set": "$$.set('.YearBizStarted', value)",
      "dpos": {
        "colclass": "dfe-field-std-p5"
      }
    },
    {
      "parent": "common",
      "name": "field-13",
      "get": "'Industry Segment'",
      "type": "label",
      "val": "required($$, '.SICCd')",
      "dpos": {
        "colclass": "dfe-field-std-p0",
        "colstyle": "padding: 3px 0px 0px 4px; z-index: 1"
      }
    },
    {
      "parent": "common",
      "name": "field-14",
      "atr": "{ options: { searchOnFocus: 'true', template: 'SIC: {{sic}} / NAICS: {{naics}} - {{description}}', display: ['naics','sic','description'] }, display : 'description' }",
      "get": "ajaxFeed($$, {url: '/AJAXServlet.srv?action=getSicNaics&state='+$$('.StateofDomicile')+'&effdate='+$$('.effective')+'&method=BBOPClassCodeScriptHelper', param: { sic: $$('.SICCd'), naics: $$('.NAICSCd')}})",
      "type": "typeahead",
      "set": "$$.set('.SICCd', value.sic); $$.set('.NAICSCd', value.naics)",
      "dpos": {
        "colclass": "dfe-field-std-p0"
      }
    },
    {
      "parent": "common",
      "name": "field-15",
      "get": "'SIC'",
      "type": "label",
      "dpos": {
        "colclass": "dfe-field-std-p5"
      }
    },
    {
      "parent": "common",
      "name": "field-16",
      "atr": "{ disabled: 'y', style : 'width: 50px'}",
      "get": "$$('.SICCd')",
      "type": "editbox",
      "dpos": {
        "colclass": "dfe-field-std-p5"
      }
    },
    {
      "parent": "common",
      "name": "field-17",
      "get": "'NAICS'",
      "type": "label",
      "dpos": {
        "colclass": "dfe-field-std-p5"
      }
    },
    {
      "parent": "common",
      "name": "field-18",
      "atr": "{ disabled: 'y', style : 'width: 70px'}",
      "get": "$$('.NAICSCd')",
      "type": "editbox",
      "dpos": {
        "colclass": "dfe-field-std-p5"
      }
    },
    {
      "parent": "common",
      "name": "field-19",
      "get": "'State of Domicile'",
      "type": "label",
      "dpos": {
        "colclass": "dfe-field-std-p5"
      }
    },
    {
      "parent": "common",
      "name": "field-20",
      "atr": "{ disabled: 'y', style : 'width: 30px'}",
      "get": "$$.getOrDefault('.StateofDomicile', 'KS')",
      "type": "editbox",
      "dpos": {
        "colclass": "dfe-field-std-p5"
      },
      "set": "$$.set('.StateofDomicile', value)"
    },
    {
      "parent": "root",
      "name": "common",
      "atr": "{ 'class': 'div-alt-color2-1', style: 'overflow: visible;' }",
      "get": "$$.single('.common', true)",
      "type": "div",
      "dpos": {
        "colstyle": "background: white; display: flex; width: 100%"
      }
    },
    {
      "parent": "common",
      "name": "field-21",
      "get": "'Mark any location states:'",
      "type": "label",
      "val": "required($$, '.ApplicableStates')",
      "dpos": {
        "colclass": "dfe-field-std-p0",
        "colstyle": "padding: 3px 0px 0px 4px; z-index: 1"
      }
    },
    {
      "parent": "common",
      "name": "field-22",
      "atr": "{style : 'display: table;', rowstyle : 'min-width: 65px;padding: 0px;display: inline-block;align-content: center'}",
      "get": "(function() {var o=[]; 'AK;AL;AR;AZ;CA;CO;CT;DC;DE;FL;GA;HI;IA;ID;IL;IN;KS;KY;LA;MA;MD;ME;MI;MN;MO;MS;MT;NC;ND;NE;NH;NJ;NM;NV;NY;OH;OK;OR;PA;RI;SC;SD;TN;TX;UT;VA;VT;WA;WI;WV;WY'.split(';').forEach(function(n) {o.push({value:n})}); return { value : $$('.ApplicableStates'), options : o }})()",
      "type": "multioption",
      "dpos": {
        "colclass": "dfe-field-std-p0"
      },
      "set": "$$.set('.ApplicableStates', value)"
    },
    {
      "parent": "root",
      "name": "producer",
      "atr": "{ 'class': 'div-alt-color2-4', style: 'max-width: 100%' }",
      "get": "$$.single('.producer', true)",
      "type": "div",
      "dpos": {
        "colstyle": "display: flex; width: 100%; background: white;"
      }
    },
    {
      "parent": "producer",
      "name": "field-24",
      "atr": "{ style : 'color: white;'}",
      "get": "'Producer Contact Information'",
      "type": "label",
      "dpos": {
        "colclass": "div-section-header",
        "colstyle": "background: slategrey;"
      }
    },
    {
      "parent": "producer",
      "name": "field-26",
      "get": "'Producer Contact Name'",
      "type": "label",
      "val": "required($$, '.name')",
      "dpos": {
        "colclass": "dfe-field-std-p5"
      }
    },
    {
      "parent": "producer",
      "name": "field-27",
      "atr": "{ style : 'width: 300px;'}",
      "get": "$$('.name')",
      "type": "editbox",
      "dpos": {
        "colclass": "dfe-field-std-p5"
      },
      "set": "$$.set('.name', value)"
    },
    {
      "parent": "producer",
      "name": "field-28",
      "get": "'Producer Contact Email'",
      "type": "label",
      "val": "required($$, '.email', '[^@ ]+@[^@ ]+\\\\.[^@ ]{1,4}')",
      "dpos": {
        "colclass": "dfe-field-std-p5"
      }
    },
    {
      "parent": "producer",
      "name": "field-29",
      "atr": "{ style : 'width: 300px;', pattern: '[^@ ]+(@([^@ ]+(\\\\.[^@ ]{0,4})?)?)?'}",
      "get": "$$('.email')",
      "type": "editbox",
      "dpos": {
        "colclass": "dfe-field-std-p5"
      },
      "set": "$$.set('.email', value)"
    },
    {
      "parent": "producer",
      "name": "field-30",
      "get": "'Confirm Producer Contact Email'",
      "type": "label",
      "val": "required($$, '.emailconfirm', '[^@ ]+@[^@ ]+\\\\.[^@ ]{1,4}') && ($$('.emailconfirm') != $$('.email')) && $$.error(\"Email doesn't match\")",
      "dpos": {
        "colclass": "dfe-field-std-p5"
      }
    },
    {
      "parent": "producer",
      "name": "field-31",
      "atr": "{ style : 'width: 300px;', pattern: '[^@ ]+(@([^@ ]+(\\\\.[^@ ]{0,4})?)?)?' }",
      "get": "$$('.emailconfirm')",
      "type": "editbox",
      "dpos": {
        "colclass": "dfe-field-std-p5"
      },
      "set": "$$.set('.emailconfirm', value)"
    },
    {
      "parent": "producer",
      "name": "field-32",
      "get": "'Producer Additional CC Email'",
      "type": "label",
      "val": "$$('.emailcc')!=0 && required($$, '.emailcc', '[^@ ]+@[^@ ]+\\\\.[^@ ]{1,4}')",
      "dpos": {
        "colclass": "dfe-field-std-p5"
      }
    },
    {
      "parent": "producer",
      "name": "field-33",
      "atr": "{ style : 'width: 300px;', pattern: '[^@ ]+(@([^@ ]+(\\\\.[^@ ]{0,4})?)?)?' }",
      "get": "$$('.emailcc')",
      "type": "editbox",
      "dpos": {
        "colclass": "dfe-field-std-p5"
      },
      "set": "$$.set('.emailcc', value)"
    },
    {
      "parent": "producer",
      "name": "field-34",
      "get": "'Phone Number'",
      "type": "label",
      "val": "required($$, '.phone', '[0-9]{10}')",
      "dpos": {
        "colclass": "dfe-field-std-p5"
      }
    },
    {
      "parent": "producer",
      "name": "field-35",
      "atr": "{ formatting : 'XXX-XXX-XXXX', transform: '01245689AB', style: 'width: 120px' }",
      "get": "$$('.phone')",
      "type": "editbox",
      "dpos": {
        "colclass": "dfe-field-std-p5"
      },
      "set": "$$.set('.phone', value);"
    },
    {
      "parent": "producer",
      "name": "notes",
      "atr": "{ 'class': 'div-alt-color3-4' }",
      "get": "[$$]",
      "type": "div",
      "dpos": {
        "colstyle": "padding: 4px; background: white; display: flex; width: 100%; box-sizing: border-box;"
      }
    },
    {
      "parent": "notes",
      "name": "field-36",
      "get": "'<b>Note:</b> this contact information will be used to communicate with your agency regarding questions about this submission, for delivery of quotes and binders, and any other contact necessay related to this submission.'",
      "type": "label"
    },
    {
      "parent": "notes",
      "name": "field-37",
      "get": "'Comments to the Underwriter:'",
      "type": "label",
      "dpos": {
        "colclass": "dfe-field-std-p0"
      }
    },
    {
      "parent": "notes",
      "name": "field-38",
      "atr": "{style: 'height: 70px; width: 100%; box-sizing: border-box; border-radius: 3px; resize: none'}",
      "get": "$$('.comments')",
      "type": "textarea",
      "set": "$$.set('.comments', value)",
      "dpos": {
        "colstyle": "width: 100%;"
      }
    }
  ]
}